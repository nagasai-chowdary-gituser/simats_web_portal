<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="{{ url_for('static', filename='global.css') }}">
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login</title>

    <!-- IMPORT FONT -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

    <style>
    /* ----------------------------------------------------
       FINAL BOSS FUTURISTIC GLASS-NEON THEME
       ---------------------------------------------------- */

    :root{
        --gn-bg-dark: #070013;
        --gn-light-border: rgba(255,255,255,0.05);

        --gn-accent: #9b5cff;
        --gn-accent-cyan: #11cbe8;
        --gn-accent-pink: #ff4fd8;

        --gn-text: rgba(255,255,255,0.92);
        --gn-text-soft: rgba(255,255,255,0.75);

        --gn-radius: 26px;
        --gn-blur: blur(16px);
    }

    body {
        margin: 0;
        font-family: "Inter", sans-serif;
        height: 100vh;
        background: radial-gradient(circle at top, #1a0635, #0a0118 60%, #05000f 100%);
        display: flex;
        justify-content: center;
        align-items: center;
        color: var(--gn-text);
        overflow: hidden;
    }

    /* Background Aurora */
    body::before{
        content:"";
        position:fixed;
        inset:0;
        background:
            radial-gradient(600px 400px at 10% 20%, rgba(155,92,255,0.12), transparent 60%),
            radial-gradient(500px 350px at 90% 80%, rgba(17,203,232,0.12), transparent 70%),
            radial-gradient(400px 300px at 50% 40%, rgba(255,79,216,0.12), transparent 60%);
        filter: blur(40px);
        z-index: -2;
        opacity: 0.8;
    }

    /* Stars */
    .stars {
        position: fixed;
        width: 100%;
        height: 100%;
        top: 0; left: 0;
        pointer-events: none;
    }
    .stars span {
        position: absolute;
        width: 4px; height: 4px;
        background: radial-gradient(circle, rgba(255,255,255,0.85), rgba(255,255,255,0.45));
        border-radius: 50%;
        animation: rise 18s linear infinite;
        opacity: 0.65;
    }
    @keyframes rise {
        from { transform: translateY(110vh) scale(0.5); opacity: 0.3; }
        to   { transform: translateY(-10vh) scale(1); opacity: 1; }
    }

    /* Login Wrapper */
    .wrapper {
        z-index: 5;
        width: 420px;
        max-width: 92%;
        padding: 40px;
        border-radius: var(--gn-radius);
        background: rgba(255,255,255,0.06);
        border: 1px solid var(--gn-light-border);
        backdrop-filter: var(--gn-blur);
        box-shadow: 0 20px 60px rgba(0,0,0,0.45);
        position: relative;
        overflow: hidden;
    }

    /* Heading */
    h2 {
        font-size: 28px;
        font-weight: 700;
        text-align:center;
        margin-bottom: 25px;
        color: var(--gn-text);
    }

    /* Input Boxes */
    .input-box { margin-bottom: 18px; }

    .input-box label {
        font-size: 14px;
        color: var(--gn-text-soft);
        margin-bottom: 6px;
        display:block;
    }

    .input-box input {
        width: 92%;
        padding: 14px 14px;
        border-radius: 14px;
        border: 1px solid rgba(255,255,255,0.08);
        background: rgba(255,255,255,0.04);
        color: var(--gn-text);
        outline: none;
        font-size: 15px;
        transition: .25s ease;
    }

    .input-box input:focus {
        border-color: var(--gn-accent);
        box-shadow: 0 0 10px rgba(155,92,255,0.15);
    }

    /* Password Eye Fix */
    .password-field {
        position: relative;
        display: flex;
        align-items: center;
    }

    .password-field input {
        padding-right: 42px !important;
    }

    /* Clean minimal eye icon (line style) */
    .toggle-eye {
        position: absolute;
        right: 12px;
        font-size: 20px;
        cursor: pointer;
        color: var(--gn-text-soft);
        user-select: none;
        transition: 0.2s ease;
    }

    .toggle-eye:hover {
        color: var(--gn-accent-cyan);
    }

    /* Button */
    button {
        width: 100%;
        padding: 14px;
        border-radius: 16px;
        border: none;
        background: linear-gradient(135deg, var(--gn-accent), var(--gn-accent-cyan));
        color: #fff;
        font-size: 16px;
        font-weight: 700;
        cursor: pointer;
        box-shadow: 0 10px 30px rgba(155,92,255,0.20);
        transition: 0.25s ease;
    }

    button:hover {
        transform: translateY(-3px);
        box-shadow: 0 14px 36px rgba(155,92,255,0.30);
    }

    .link {
        margin-top: 15px;
        color: var(--gn-text-soft);
        text-align: center;
    }
    .link a {
        color: var(--gn-accent-cyan);
        font-weight: 600;
        text-decoration: none;
    }
    .forgot a {
        color: var(--gn-accent-cyan);
        font-size: 13px;
    }

    /* Error */
    .error-msg {
        background: rgba(255,80,80,0.10);
        border: 1px solid rgba(255,80,80,0.25);
        padding: 12px;
        border-radius: 12px;
        color: #ffb4b4;
        font-weight: 600;
        text-align:center;
        margin-bottom: 18px;
    }
    </style>
</head>

<body>

<!-- Background Stars -->
<div class="stars">
    <span style="left:10%; animation-delay:1s;"></span>
    <span style="left:35%; animation-delay:2s;"></span>
    <span style="left:55%; animation-delay:3s;"></span>
    <span style="left:75%; animation-delay:4s;"></span>
    <span style="left:90%; animation-delay:1.5s;"></span>
</div>

<!-- LOGIN CARD -->
<div class="wrapper {% if shake %}shake{% endif %}">

    <h2>Welcome Back üëã</h2>

    {% if message %}
    <div class="error-msg">{{ message }}</div>
    {% endif %}

    <form method="POST">

        <input type="text" name="fake_username" style="display:none">
        <input type="password" name="fake_password" style="display:none">

        <div class="input-box">
            <label>Register Number</label>
            <input type="text" name="reg_no" placeholder="e.g. 192424292" required autocomplete="off">
        </div>

        <div class="note">Use only the number part before <code>.simats@saveetha.com</code></div>

        <div class="input-box password-box">
            <label>Password</label>

            <div class="password-field">
                <input type="password" name="l_pass" id="passwordInput"
                       placeholder="Enter password" required autocomplete="new-password">

                <!-- Simple minimal eye icon -->
                <span class="toggle-eye" onclick="togglePassword()">üëÅ</span>
            </div>
        </div>

        <div class="forgot">
            <a href="{{ url_for('forgot_password') }}">Forgot Password?</a>
        </div>

        <button type="submit">Login</button>
    </form>

    <div class="link">
        New user? <a href="{{ url_for('register') }}">Create an account</a>
    </div>

</div>

<script>
function togglePassword() {
    const pwd = document.getElementById("passwordInput");
    pwd.type = pwd.type === "password" ? "text" : "password";
}
</script>

</body>
</html>
