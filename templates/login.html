<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="{{ url_for('static', filename='global.css') }}">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>

    <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700;800&display=swap');

    *, *::before, *::after { box-sizing: border-box; }

    :root {
        --bg-deep: #0C0C0C;
        --bg-gradient: linear-gradient(168deg, #0A0A0A 0%, #0C0C0C 40%, #080808 100%);
        --card: #131313;
        --gold-1: #D4AF37;
        --gold-2: #F5C542;
        --gold-3: #C9A227;
        --gold-border: rgba(212, 175, 55, 0.18);
        --gold-border-subtle: rgba(212, 175, 55, 0.08);
        --text-primary: rgba(255, 255, 255, 0.95);
        --text-secondary: rgba(255, 255, 255, 0.72);
        --text-muted: rgba(255, 255, 255, 0.48);
        --input-bg: rgba(255, 255, 255, 0.03);
        --input-border: rgba(255, 255, 255, 0.06);
        --error: #FF6B6B;
        --radius-sm: 12px;
        --radius-md: 16px;
        --radius-lg: 22px;
        --shadow-card: 0 12px 40px rgba(0, 0, 0, 0.5), 0 4px 12px rgba(212, 175, 55, 0.06);
        --shadow-gold: 0 8px 32px rgba(212, 175, 55, 0.12);
        --shadow-input: inset 0 2px 8px rgba(0, 0, 0, 0.4);
        --transition-fast: 180ms cubic-bezier(0.4, 0, 0.2, 1);
    }

    body {
        margin: 0;
        padding: 24px;
        min-height: 100vh;
        background: var(--bg-gradient);
        font-family: 'Inter', 'Poppins', -apple-system, BlinkMacSystemFont, sans-serif;
        color: var(--text-primary);
        display: flex;
        align-items: center;
        justify-content: center;
        overflow-x: hidden;
        -webkit-font-smoothing: antialiased;
    }

    body::before {
        content: '';
        position: fixed;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: radial-gradient(ellipse at 30% 20%, rgba(212, 175, 55, 0.03) 0%, transparent 50%),
                    radial-gradient(ellipse at 70% 80%, rgba(212, 175, 55, 0.02) 0%, transparent 40%);
        pointer-events: none;
        z-index: 0;
    }

    .particles {
        position: fixed;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        pointer-events: none;
        z-index: 1;
        overflow: hidden;
    }

    .particles span {
        position: absolute;
        width: 4px;
        height: 4px;
        background: radial-gradient(circle, rgba(212, 175, 55, 0.6), rgba(212, 175, 55, 0.2));
        border-radius: 50%;
        animation: float-up 20s linear infinite;
        opacity: 0.5;
    }

    @keyframes float-up {
        0% { transform: translateY(100vh) scale(0.4); opacity: 0; }
        10% { opacity: 0.5; }
        90% { opacity: 0.5; }
        100% { transform: translateY(-10vh) scale(1); opacity: 0; }
    }

    .wrapper {
        position: relative;
        z-index: 2;
        width: 100%;
        max-width: 420px;
        padding: 42px 38px;
        background: linear-gradient(175deg, var(--card) 0%, #0F0F10 100%);
        border: 0.5px solid var(--gold-border-subtle);
        border-radius: var(--radius-lg);
        box-shadow: var(--shadow-card);
        overflow: hidden;
    }

    .wrapper::before {
        content: '';
        position: absolute;
        top: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 60%;
        height: 1px;
        background: linear-gradient(90deg, transparent 0%, var(--gold-1) 50%, transparent 100%);
        opacity: 0.6;
    }

    .wrapper::after {
        content: '';
        position: absolute;
        inset: 0;
        border-radius: var(--radius-lg);
        padding: 1px;
        background: linear-gradient(180deg, rgba(212, 175, 55, 0.1) 0%, transparent 30%);
        -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
        mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
        -webkit-mask-composite: xor;
        mask-composite: exclude;
        pointer-events: none;
    }

    h2 {
        text-align: center;
        margin: 0 0 28px 0;
        font-family: 'Poppins', sans-serif;
        font-size: 26px;
        font-weight: 700;
        background: linear-gradient(135deg, var(--gold-2) 0%, var(--gold-1) 50%, var(--gold-3) 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    .error-msg {
        padding: 14px 18px;
        margin-bottom: 20px;
        border-radius: var(--radius-sm);
        background: rgba(255, 107, 107, 0.08);
        border: 0.5px solid rgba(255, 107, 107, 0.2);
        color: var(--error);
        font-size: 13px;
        font-weight: 500;
        text-align: center;
    }

    .input-box {
        margin-bottom: 20px;
        text-align: left;
    }

    .input-box label {
        display: block;
        font-size: 12px;
        font-weight: 600;
        color: var(--text-secondary);
        margin-bottom: 8px;
        letter-spacing: 0.3px;
        text-transform: uppercase;
    }

    .input-box input {
        width: 100%;
        padding: 14px 16px;
        font-size: 15px;
        font-family: inherit;
        color: var(--text-primary);
        background: var(--input-bg);
        border: 1px solid var(--input-border);
        border-radius: var(--radius-sm);
        box-shadow: var(--shadow-input);
        transition: all var(--transition-fast);
        outline: none;
    }

    .input-box input::placeholder { color: var(--text-muted); }

    .input-box input:hover {
        border-color: rgba(255, 255, 255, 0.1);
        background: rgba(255, 255, 255, 0.04);
    }

    .input-box input:focus {
        border-color: var(--gold-1);
        background: rgba(212, 175, 55, 0.03);
        box-shadow: var(--shadow-input), 0 0 0 3px rgba(212, 175, 55, 0.08);
    }

    .note {
        margin-top: 6px;
        font-size: 12px;
        color: var(--text-muted);
    }

    .note code {
        color: var(--gold-1);
        background: rgba(212, 175, 55, 0.1);
        padding: 2px 6px;
        border-radius: 4px;
        font-size: 11px;
    }

    .forgot {
        text-align: right;
        margin: -10px 0 20px;
    }

    .forgot a {
        font-size: 13px;
        font-weight: 600;
        color: var(--gold-1);
        text-decoration: none;
        transition: color var(--transition-fast);
    }

    .forgot a:hover { color: var(--gold-2); }

    button {
        width: 100%;
        padding: 16px 24px;
        font-family: 'Poppins', sans-serif;
        font-size: 15px;
        font-weight: 700;
        color: #0A0A0A;
        background: linear-gradient(135deg, var(--gold-2) 0%, var(--gold-1) 50%, var(--gold-3) 100%);
        border: none;
        border-radius: var(--radius-md);
        cursor: pointer;
        box-shadow: var(--shadow-gold);
        transition: all var(--transition-fast);
        position: relative;
        overflow: hidden;
    }

    button::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
        transition: left 0.5s ease;
    }

    button:hover {
        transform: translateY(-2px);
        box-shadow: 0 12px 40px rgba(212, 175, 55, 0.2);
    }

    button:hover::before { left: 100%; }
    button:active { transform: translateY(0); }

    .link {
        margin-top: 24px;
        text-align: center;
        font-size: 14px;
        color: var(--text-secondary);
    }

    .link a {
        color: var(--gold-1);
        font-weight: 600;
        text-decoration: none;
        transition: color var(--transition-fast);
    }

    .link a:hover { color: var(--gold-2); }

    .shake { animation: shake-anim 0.4s ease; }

    @keyframes shake-anim {
        0%, 100% { transform: translateX(0); }
        20% { transform: translateX(-10px); }
        40% { transform: translateX(10px); }
        60% { transform: translateX(-10px); }
        80% { transform: translateX(10px); }
    }

    @media (max-width: 480px) {
        body { padding: 16px; }
        .wrapper { padding: 32px 24px; border-radius: var(--radius-md); }
        h2 { font-size: 22px; }
        .input-box input { padding: 12px 14px; font-size: 14px; }
        button { padding: 14px 20px; font-size: 14px; }
        .particles span { width: 3px; height: 3px; }
    }
    </style>
</head>

<body>

<div class="particles">
    <span style="left: 5%; animation-delay: 0s; animation-duration: 18s;"></span>
    <span style="left: 15%; animation-delay: 2s; animation-duration: 22s;"></span>
    <span style="left: 25%; animation-delay: 4s; animation-duration: 20s;"></span>
    <span style="left: 35%; animation-delay: 1s; animation-duration: 24s;"></span>
    <span style="left: 50%; animation-delay: 3s; animation-duration: 19s;"></span>
    <span style="left: 65%; animation-delay: 5s; animation-duration: 21s;"></span>
    <span style="left: 75%; animation-delay: 2s; animation-duration: 23s;"></span>
    <span style="left: 85%; animation-delay: 4s; animation-duration: 20s;"></span>
    <span style="left: 95%; animation-delay: 1s; animation-duration: 22s;"></span>
</div>

<div class="wrapper {% if shake %}shake{% endif %}">
    <h2>Welcome Back ðŸ‘‹</h2>

    {% if message %}
    <div class="error-msg">{{ message }}</div>
    {% endif %}

    <form method="POST">
        <input type="text" name="fake_username" style="display:none" autocomplete="off">
        <input type="password" name="fake_password" style="display:none" autocomplete="new-password">

        <div class="input-box">
            <label>Register Number</label>
            <input type="text" name="reg_no" placeholder="e.g. 192424292.simats" required autocomplete="off">
            <div class="note">Use the number part before <code>.simats@saveetha.com</code></div>
        </div>

        <div class="input-box">
            <label>Password</label>
            <input type="password" name="l_pass" placeholder="Enter password" required autocomplete="new-password">
        </div>

        <div class="forgot">
            <a href="{{ url_for('forgot_password') }}">Forgot Password?</a>
        </div>

        <button type="submit">Login</button>
    </form>

    <div class="link">
        New user? <a href="{{ url_for('register') }}">Create an account</a>
    </div>
</div>

</body>
</html>