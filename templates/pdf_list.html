<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="{{ url_for('static', filename='global.css') }}">

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Download PDFs</title>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700,800&family=Inter:wght@300;400;600;700&display=swap');
        :root{ --bg-deep:#0a0118; --bg-mid:#130828; --bg-navy:#0f1535; --glass: rgba(255,255,255,0.08); --glass-border: rgba(255,255,255,0.12); --neon-purple:#a855f7; --neon-cyan:#06b6d4; --text-primary:#e6eefb; --radius-lg:22px }
        body { margin:0; padding:0; min-height:100vh; font-family:'Inter','Poppins',sans-serif; display:flex; justify-content:center; align-items:center; background: linear-gradient(165deg,var(--bg-deep),var(--bg-mid) 40%,var(--bg-navy)); color:var(--text-primary); overflow:auto }

        /* floating stars */
        .stars {
            position: fixed;
            width: 100%;
            height: 100%;
            pointer-events: none;
            top: 0; left: 0;
            </div>

            <style>
                @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700,800&family=Inter:wght@300;400;600;700&display=swap');
                :root{--bg-deep:#0a0118;--bg-mid:#130828;--bg-navy:#0f1535;--glass:rgba(255,255,255,0.08);--glass-strong:rgba(255,255,255,0.12);--glass-border:rgba(255,255,255,0.14);--neon-purple:#a855f7;--neon-cyan:#06b6d4;--neon-violet:#8b5cf6;--text-primary:#e6eefb;--text-muted:rgba(230,238,251,0.8);--radius-lg:22px;--radius-md:18px}
                *{box-sizing:border-box}
                body{font-family:'Inter','Poppins',sans-serif;margin:0;background:linear-gradient(165deg,var(--bg-deep),var(--bg-mid) 40%,var(--bg-navy));color:var(--text-primary);min-height:100vh;padding:40px 20px}
                body::before{content:'';position:fixed;inset:0;background:radial-gradient(900px 500px at 15% 20%,rgba(168,85,247,0.06),transparent 60%),radial-gradient(700px 400px at 85% 70%,rgba(6,182,212,0.04),transparent 55%);z-index:0;pointer-events:none}
                .particles{position:fixed;inset:0;overflow:hidden;pointer-events:none;z-index:1}
                .particles span{position:absolute;width:6px;height:6px;background:radial-gradient(circle,rgba(168,85,247,0.9),rgba(6,182,212,0.6));border-radius:50%;animation:particle-float 14s ease-in-out infinite}
                @keyframes particle-float{0%,100%{transform:translateY(100vh) scale(0.4);opacity:0}50%{transform:translateY(50vh) translateX(30px) scale(1);opacity:0.8}}
                .header{text-align:center;margin-bottom:40px;position:relative;z-index:2}
                .header h1{font-size:42px;font-weight:800;margin-bottom:8px;color:var(--text-primary);letter-spacing:0.2px}
                .header p{font-size:16px;color:var(--text-muted)}
                .back-btn{position:fixed;top:24px;left:24px;z-index:100;padding:10px 18px;border-radius:var(--radius-md);background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.06);color:var(--text-muted);font-size:14px;font-weight:600;text-decoration:none;transition:all 0.3s ease}
                .back-btn:hover{background:rgba(255,255,255,0.04);transform:translateY(-2px);box-shadow:0 12px 32px rgba(168,85,247,0.06)}
                .container{position:relative;z-index:2;max-width:1000px;margin:0 auto}
                .pdf-grid{display:grid;gap:16px;grid-template-columns:repeat(auto-fit,minmax(320px,1fr))}
                .pdf-item{padding:20px 24px;border-radius:var(--radius-lg);background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border:1px solid var(--glass-border);backdrop-filter:blur(16px);display:flex;align-items:center;justify-content:space-between;transition:all 0.3s ease}
                .pdf-item:hover{transform:translateY(-6px);box-shadow:0 10px 28px rgba(168,85,247,0.08);border-color:rgba(168,85,247,0.14)}
                .pdf-icon{width:48px;height:48px;border-radius:12px;background:linear-gradient(135deg,var(--neon-purple),var(--neon-cyan));display:flex;align-items:center;justify-content:center;font-size:20px;flex-shrink:0}
                .pdf-info{flex:1;margin-left:20px}
                .pdf-name{font-size:16px;font-weight:700;color:var(--text-primary);margin-bottom:4px}
                .pdf-date{font-size:13px;color:var(--text-muted)}
                .pdf-actions{display:flex;gap:12px}
                .btn-action{padding:10px 16px;border-radius:var(--radius-md);background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border:1px solid var(--glass-border);color:var(--neon-cyan);font-size:14px;font-weight:600;text-decoration:none;transition:all 0.3s ease;display:inline-block}
                .btn-action:hover{background:var(--neon-purple);color:#fff;border-color:var(--neon-purple);transform:scale(1.03)}
                @media (max-width:768px){.header h1{font-size:32px}.pdf-item{flex-direction:column;align-items:flex-start;gap:16px}.pdf-info{margin-left:0}.pdf-actions{width:100%;justify-content:stretch;gap:8px}.btn-action{flex:1;text-align:center}.back-btn{position:static;margin-bottom:20px;display:inline-block}}
            </style>
        }

        h2 { font-size:24px; color:var(--text-primary); margin-bottom:14px; font-weight:800 }

        /* SEARCH BOX */
        .search-box {
            width: 93%;
            margin-bottom: 18px;
        }

        .search-box input { width:100%; padding:12px; border-radius:12px; border:1px solid rgba(255,255,255,0.06); background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01)); color:var(--text-primary); font-size:14px; text-align:center; outline:none }

        .search-box input::placeholder {
            color: #ddd;
        }

        /* scrollable area */
        .scroll-area {
            max-height: 420px;
            overflow-y: auto;
            padding-right: 6px;
        }

        .scroll-area::-webkit-scrollbar {
            width: 6px;
        }

        .scroll-area::-webkit-scrollbar-thumb {
            background: rgba(255,255,255,0.4);
            border-radius: 10px;
        }

        ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        li { background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.02)); padding: 12px 14px; border-radius: 12px; margin-bottom:12px; color:var(--text-primary); font-weight:600; display:flex; justify-content:space-between; align-items:center; border:1px solid rgba(255,255,255,0.06) }

        /* buttons */
        a.download-btn { padding:6px 10px; border-radius:8px; background: linear-gradient(135deg,var(--neon-purple),var(--neon-cyan)); color:#fff; text-decoration:none; font-weight:700; transition: all 0.22s }

        a.download-btn:hover {
            transform: translateY(-2px);
            filter: brightness(1.2);
        }

        .home-btn {
            margin-top: 25px;
            padding: 12px 20px;
            background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border:1px solid rgba(255,255,255,0.06);
            border-radius: 14px;
            font-size: 16px;
            color: #fff;
            cursor: pointer;
            width: 100%;
            transition: 0.25s;
        }

        .home-btn:hover { background: linear-gradient(135deg,var(--neon-purple),var(--neon-cyan)); transform: translateY(-4px); box-shadow: 0 10px 28px rgba(168,85,247,0.12) }

        @media (max-width: 768px) { .card { width: calc(100% - 32px); padding:18px; } .search-box { width: calc(100% - 32px) } .tools-grid { grid-template-columns: repeat(1, 1fr); } }
    </style>

</head>
<body>

<!-- stars -->
<div class="stars">
    <span style="left:10%; animation-duration:7s;"></span>
    <span style="left:30%; animation-duration:9s;"></span>
    <span style="left:50%; animation-duration:11s;"></span>
    <span style="left:70%; animation-duration:8s;"></span>
    <span style="left:90%; animation-duration:10s;"></span>
</div>

<div class="card">

    <h2>ðŸ“„ Download PDFs</h2>

    <!-- SEARCH BOX -->
    <div class="search-box">
        <input type="text" id="searchInput" placeholder="Search PDF...">
    </div>

    <!-- Scrollable List -->
    <div class="scroll-area">
        <ul id="pdfList">
            {% for pdf in pdfs %}
            <li>
                <span>{{ pdf }}</span>
                <a class="download-btn" href="/download/{{ pdf }}">Download</a>
            </li>
            {% endfor %}
        </ul>
    </div>

    <button class="home-btn" onclick="window.location.href='/home'">â¬… Go Home</button>
</div>

<script>
    // LIVE SEARCH FILTER
    const searchInput = document.getElementById("searchInput");
    const pdfList = document.getElementById("pdfList");
    const items = pdfList.getElementsByTagName("li");

    searchInput.addEventListener("keyup", () => {
        let filter = searchInput.value.toLowerCase();

        for (let i = 0; i < items.length; i++) {
            let filename = items[i].innerText.toLowerCase();

            if (filename.includes(filter)) {
                items[i].style.display = "";
            } else {
                items[i].style.display = "none";
            }
        }
    });
</script>

</body>
</html>